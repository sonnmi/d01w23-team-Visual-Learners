# [Issue #13919 - Impossible to configure minor/major grid line style independently in rcParams](https://github.com/matplotlib/matplotlib/issues/13919)
Lander Joshua Vitug (Unit testing, User Guid, documentation)

Yesom Son (Unit testing, implementation in mplot3d, documentation)

Chenbo Wang (implementation in main library, Acceptance Tests, documentation) 
<br /><br />

# **Brief Description of the Issue**

`rcParams` only support setting the default style for all gridlines.  Setting different styles for major and minor gridlines need to be done manually for each plot, causing the user to do repetitive input.  
<br />

## **Implementation**

The original `rcParams` for `grid` starts with `grid.*` which sets the default value of variables for both major and minor `grid`.  It is impossible to set different styles for major and minor `grid`.  To allow setting different styles for major and minor `grid`, we need to do the following:

- Removed each `grid.*` `rcParams` and added `grid.major.*` and `grid.minor.*` `rcParams`.  ([code snippet 1](https://github.com/sonnmi/d01w23-team-Visual-Learners/blob/506b3b3c19271d0e652dd6454c6b99f8dc390316/matplotlib-main/lib/matplotlib/mpl-data/matplotlibrc#L515-L526))  

- Updated the varifier for `rcParams` in `rcsetup.py` to adapt the new `rcParams` for `grid`.  ([code snippet 2](https://github.com/sonnmi/d01w23-team-Visual-Learners/blob/506b3b3c19271d0e652dd6454c6b99f8dc390316/matplotlib-main/lib/matplotlib/rcsetup.py#L1127-L1135)) 

- Update `Tick.__init__` to use the new `rcParams` to set different `color` `linestyle` `linewidth` `alpha` for major and minor `grid`.  ([code snippet 3](https://github.com/sonnmi/d01w23-team-Visual-Learners/blob/506b3b3c19271d0e652dd6454c6b99f8dc390316/matplotlib-main/lib/matplotlib/axis.py#L140-L168)) 

- Update `mpl-data/stylelib/*` to use new convention when setting default style for different interface.

- Update `pyplot.py` to use new convention when setting style for `xkcd`.  ([code snippet 4](https://github.com/sonnmi/d01w23-team-Visual-Learners/blob/506b3b3c19271d0e652dd6454c6b99f8dc390316/matplotlib-main/lib/matplotlib/pyplot.py#L666-L685))

<br>

For `toolkit.axisartist` library, we choose to use `grid.major.*` to replace `grid.*` as for the two usacw cases:

- The first api was deprecated, we updated to avoid error.  ([code snippet 5](https://github.com/sonnmi/d01w23-team-Visual-Learners/blob/506b3b3c19271d0e652dd6454c6b99f8dc390316/matplotlib-main/lib/mpl_toolkits/axisartist/axislines.py#L326-L347))

- The second is only use to initalize default values before clear `grid`.  ([code snippet 6](https://github.com/sonnmi/d01w23-team-Visual-Learners/blob/506b3b3c19271d0e652dd6454c6b99f8dc390316/matplotlib-main/lib/mpl_toolkits/axisartist/axislines.py#L473-L485))

<br>
 
For `toolkit.mplot3d` library,

<br />

## **File modified**

`matplotlib/axis.py`

`matplotlib/rcsetup.py`

`matplotlib/pyplot.py`

`matplotlib/mpl-data/matplotlibrc`

`matplotlib/mpl-data/stylelib/*`

`mpl_toolkits/axisartist/axislines.py`

`mpl_toolkits/mplot3d/axis3d.py`


<br />

## **Testing**

#### **Unit tests**
Unit tests can be found in ['lib/matplotlib/tests/test_axis.py unit tests 1'](https://github.com/sonnmi/d01w23-team-Visual-Learners/blob/506b3b3c19271d0e652dd6454c6b99f8dc390316/matplotlib-main/lib/matplotlib/tests/test_axes.py#L5340-L5384), ['lib/matplotlib/tests/test_axis.py unit tests 2'](https://github.com/sonnmi/d01w23-team-Visual-Learners/blob/506b3b3c19271d0e652dd6454c6b99f8dc390316/matplotlib-main/lib/matplotlib/tests/test_axes.py#L8516-L8736) and ['lib/mpl_toolkits/mplot3d/tests/test_axes3d.py unit tests 3'](https://github.com/sonnmi/d01w23-team-Visual-Learners/blob/506b3b3c19271d0e652dd6454c6b99f8dc390316/matplotlib-main/lib/mpl_toolkits/mplot3d/tests/test_axes3d.py#L2177-L2428)
<br />

#### **Acceptance Tests**:
*Scenario 1: User wants all the plots created to have major gridlines with a certain style*
1.  A user navigates to the `matplotlibrc` file after installing matplotlib library.
2.  A user locates `grid` related `rcParams` for major `grid`. (`grid.major.color`, `grid.major.linestyle`, `grid.major.linewidth`, `grid.major.alpha`)
3.  A user sets the value of `rcParams` to the desired value.
4.  A user creates a plot setting the major `grid` and major `tick` visible.
5.  A user displays the plot.
6.  A user accepts if the major `grid` follows set attributes in `rcParams`.

<br>

*Scenario 2: User wants all the plots created to have minor gridlines with a certain style*
1.  A user navigates to the `matplotlibrc` file after installing `matplotlib` library.
2.  A user locates `grid` related `rcParams` for minor `grid`. (`grid.minor.color`, `grid.minor.linestyle`, `grid.minor.linewidth`, `grid.minor.alpha`)
3.  A user sets the value of `rcParams` to the desired value.
4.  A user creates a plot setting the minor `grid` and minor `tick` visible.
5.  A user displays the plot.
6.  A user accepts if the minor `grid` follows set attributes in `rcParams`.

<br>

*Scenario 3: User wants all the plots created to have major and minor gridlines with a certain style*
1.  A user navigates to the `matplotlibrc` file after installing `matplotlib` library.
2.  A user locates `grid` related `rcParams`.
3.  A user sets the value of `rcParams` to the desired value.
4.  A user creates a plot setting the both `grid` and both `tick` visible.
5.  A user displays the plot.
6.  A user accepts if both the major and minor `grid` follows set attributes in `rcParams`.

<br>

*Scenario 4: User wants most of the plots created to have major gridlines with a certain style but others to be set manually*
1.  A user navigates to the `matplotlibrc` file after installing matplotlib library.
2.  A user locates `grid` related `rcParams` for major `grid`. (`grid.major.color`, `grid.major.linestyle`, `grid.major.linewidth`, `grid.major.alpha`)
3.  A user sets the value of `rcParams` to the desired value for most of the plot.
4.  A user creates a plot setting the major `grid` and major `tick` visible.
5.  A user sets the attribute of the major `grid` for this plot manually.
6.  A user displays the plot.
7.  A user accepts if the major `grid` follows the manually set attributes.

<br>

*Scenario 5: User wants most of the plots created to have minor gridlines with a certain style but others to be set manually*
1.  A user navigates to the `matplotlibrc` file after installing matplotlib library.
2.  A user locates `grid` related `rcParams` for minor `grid`. (`grid.minor.color`, `grid.minor.linestyle`, `grid.minor.linewidth`, `grid.minor.alpha`)
3.  A user sets the value of `rcParams` to the desired value for most of the plot.
4.  A user creates a plot setting the minor `grid` and minor `tick` visible.
5.  A user sets the attribute of the minor `grid` for this plot manually.
6.  A user displays the plot.
7.  A user accepts if the minor `grid` follows the manually set attributes.

<br>

*Scenario 6: User wants most of the plots created to have major and minor gridlines with a certain style but others to be set manually*
1.  A user navigates to the `matplotlibrc` file after installing matplotlib library.
2.  A user locates `grid` related `rcParams`.
3.  A user sets the value of `rcParams` to the desired value for most of the plot.
4.  A user creates a plot setting the both `grid` and both `tick` visible.
5.  A user sets the attribute of both `grid` for this plot manually.
6.  A user displays the plot.
7.  A user accepts if both the major and minor `grid` follows the manually set attributes.

<br>

*Scenario 7: User wants all of the 3d plots created to have major and minor gridlines with a certain style*
1.  A user navigates to the `matplotlibrc` file after installing `matplotlib` library.
2.  A user locates `grid` related `rcParams`.
3.  A user sets the value of `rcParams` to the desired value.
4.  A user creates a 3d plot.
5.  A user defines the major and minor `grid` they want to have in the 3d plot with `set_major_locator` and `set_minor_locator` functions.
6.  A user displays the 3d plot.
7.  A user accepts if both the major and minor `grid` follows set attributes in `rcParams`.
